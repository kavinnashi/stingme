<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta content="width=device-width, user-scalable=no" name="viewport">
<meta content="black" name="apple-mobile-web-app-status-bar-style">
<meta name="apple-mobile-web-app-capable" content="yes" />
<title>stingme</title>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js" type="text/javascript"></script>
<style>
body{
	background-color:#06C;
}
</style>

<script type="text/javascript" charset="utf-8">
    $(document).ready(function() {
		$("#asd").click(function(){
			a=0;
		$(".backme").stingme();
		if(a==valid)
		{
			console.log("All fields entered");
			console.log(JSON.stringify(obj));
			//submit json to ajax
		}
		else
		{
			console.log("some fields are blank");
			//call error function
		}
		});
		
	});
	var a=0;
	var valid=0;
   var obj = {};
	(function($) {
		 $.fn.stingme = function() {
           valid=0;
       return this.each( function() {
		 var key=$( this ).attr("id").trim();
		 valid++
		 console.log("valid" +valid);
		if($("#"+key).val()!="")
		{ obj[key] = $("#"+key).val();
	     //	console.log("valid1" +valid);
		  a++;
		}
		else
		{ //console.log("valid2" +valid);
			alert("Please Enter value for -"+$('#'+key).attr('name'));
			a--;
			//can highlight the particular field
        }
	   });
	  
   }
   

	}(jQuery))
	
  </script>
</head>

<body>
<div id="demo">
<label>Name</label><input id="user_name" class="backme" name="User Name" value="" /><br />
<label>Address</label><input id="user_address" class="backme" name="User Address" value="" />
<input type="submit" id="asd" value="Submit"/>

</div>
</body>
</html>

